+ train the NCBF with the dataset file and map file
```bash
source ~/miniconda3/etc/profile.d/conda.sh && conda activate latentSafety && python /home/chengrui/wk/NCBFquickDemo/work/ncbf/training/train_ncbf.py --data /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps/map_files/map1/training_data_safe_only_ad_enhanced.h5 --map /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps/map_files/map1/map1.json --config large --output_dir /home/chengrui/wk/NCBFquickDemo/work/ncbf/weights/ad_enhanced_training --epochs 50
```

+ visualize the training result with the commad line tool
```bash
source ~/miniconda3/etc/profile.d/conda.sh && conda activate latentSafety &&  python /home/chengrui/wk/NCBFquickDemo/work/ncbf/training/ncbf_visualization_tool.py --checkpoint /home/chengrui/wk/NCBFquickDemo/work/ncbf/weights/ad_enhanced_training/best_model.pt --config /home/chengrui/wk/NCBFquickDemo/work/ncbf/weights/ad_enhanced_training/training_config.json --map /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps/map_files/map1/map1.json --safety-radius 0.2 --resolution 100 --output /home/chengrui/wk/NCBFquickDemo/work/ncbf/weights/ad_enhanced_training/ncbf_visualization.png
```

+ use the enhancement test file to generate enhanceed dataset via AD
```bash
source ~/miniconda3/etc/profile.d/conda.sh && conda activate latentSafety && cd /home/chengrui/wk/NCBFquickDemo/work/ncbf/enhancement && python tests/create_enhanced_dataset.py
```

+ use the command line tool to generate enhanced dataset (recommanded)
  + if parameters are not specified, it will use config in [work/ncbf/enhancement/enhancer_config.py](work/ncbf/enhancement/enhancer_config.py). You can also specifiy the parameters via command line 
```bash 
source ~/miniconda3/etc/profile.d/conda.sh && conda activate latentSafety && python work/ncbf/enhancement/enhance_dataset.py --input-data /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps/map_files/map1/training_data_safe_only.h5 --method ad --output /home/chengrui/wk/NCBFquickDemo/work/ncbf/enhancement/tests/ad_enhanced_default.h5
```

+ use the command line tool to visualize the dataset
```bash
source ~/miniconda3/etc/profile.d/conda.sh && conda activate latentSafety && cd /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps && python visualize_training_data.py --training_data /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps/map_files/map1/training_data_ad_enhanced.h5 --map /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps/map_files/map1/map1.json --output /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps/map_files/map1/ad_enhanced_visualization.png
```
    visualize the dataset generated by the command line tool
```bash
source ~/miniconda3/etc/profile.d/conda.sh && conda activate latentSafety && python work/ncbf/maps/visualize_training_data.py --training_data /home/chengrui/wk/NCBFquickDemo/work/ncbf/enhancement/tests/ad_enhanced_default.h5 --map /home/chengrui/wk/NCBFquickDemo/work/ncbf/maps/map_files/map1/map1.json --output /home/chengrui/wk/NCBFquickDemo/work/ncbf/enhancement/tests/ad_enhanced_visualization.png
```

+ run simulation and save the results
  + first set the map_file path, ncbf_weight path and ncbf_config in file [work/sim/sim_ncbf.py](work/sim/sim_ncbf.py) (TODO: add these info in the commad line input)
  + run simulation
```bash
source ~/miniconda3/etc/profile.d/conda.sh && conda activate latentSafety && python /home/chengrui/wk/NCBFquickDemo/work/sim/sim_ncbf.py --initial-x 2.0 --initial-y 7.0 --initial-theta 0.0 --goal-x 8.0 --goal-y 4.0 --save-path /home/chengrui/wk/NCBFquickDemo/work/sim/results/ad_enhanced_simulation.png
```